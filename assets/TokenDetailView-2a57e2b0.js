import{d as W,z as X,B as Y,H as Z,C as z,r as m,g as _,h as aa,D as ea,i as ta,c as sa,a as e,j as i,t as s,k as d,w as n,s as I,F as oa,I as la,J as na,o as ra,A as ca,l as p,p as ia,K as da,G as ua,x as fa,v as ha}from"./index-68cedde3.js";const _a={class:"position-relative pb-5",id:"hero"},ba={class:"container"},pa={class:"container"},va={class:"row"},ga={class:"col-12 col-lg-6"},ma={class:"d-flex flex-column bg-primary-2 p-4"},ya=e("div",{class:"font-medium text-2xl mb-4"}," Token Name ",-1),xa={class:"d-flex align-items-center justify-content-between"},ka={class:"text-base font-medium"},wa=e("div",{class:"d-inline-flex"},[e("img",{class:"ml-4 mr-2",src:la,alt:"Copy"}),e("img",{src:na,alt:"Barcode"})],-1),Ta={class:"font-medium mt-2 mb-4"},Ca={class:"d-flex flex-column w-100 bg-gradient p-4"},Na=e("div",{class:"text-base font-medium"}," Token Supply ",-1),Pa={class:"text-2xl font-medium mt-12"},Ha={class:"col-12 col-lg-6"},$a={class:"d-flex flex-column bg-primary-2 p-4"},Sa=e("div",{class:"font-medium text-2xl mb-4"}," Token Information ",-1),Va={class:"d-flex flex-column p-0"},ja={class:"d-flex justify-content-between align-items-center font-medium mt-12"},La=e("div",{class:""}," Total Transfer Count : ",-1),Ba={class:"ml-2"},Da={class:"d-flex justify-content-between align-items-center font-medium mt-12"},Ea=e("div",{class:""}," Holder Count : ",-1),Fa={class:"ml-2"},Ra={class:"d-flex justify-content-between align-items-center font-medium mt-12"},qa=e("div",{class:""}," Decimal : ",-1),Aa={class:"ml-2"},za={class:"container mt-4"},Ia={class:"row"},Ma={class:"col-12"},Ga={class:"tab-content",id:"pills-tabContent"},Ja={class:"tab-pane fade show active",id:"transfer",role:"tabpanel","aria-labelledby":"transfer-tab"},Ka={class:"bg-primary-2 overflow-auto"},Oa={class:"capitalize",style:{width:"250px",margin:"0","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},Qa=e("img",{src:ua,alt:""},null,-1),Ua={class:"tab-pane fade",id:"holders",role:"tabpanel","aria-labelledby":"holders-tab"},Wa={class:"bg-primary-2 overflow-auto"},Xa={class:"d-flex flex-column text-right"},Ya={class:""},Za={class:"progress justify-content-end"},te=W({__name:"TokenDetailView",setup(ae){const f=X(),v=Y(),r=Z(),g=fa(),y=ha(),x=z({page:1,limit:50}),k=z({page:1,limit:50}),C=m(!1),N=m(!1),M=m([{key:"method",label:"Transaction",align:"left",slot:!0},{key:"hash",label:"Txn Hash",align:"left",slot:!0},{key:"timestamp",label:"Time",align:"left",slot:!0},{key:"from",label:"From",align:"left",slot:!0},{key:"arrow",label:"",align:"center",slot:!0},{key:"to",label:"To",align:"left",slot:!0},{key:"value",label:"Value",align:"left",slot:!0}]),G=m([{key:"address",label:"Address",align:"left",slot:!0},{key:"value",label:"Value Quantity",align:"left",slot:!0},{key:"percentage",label:"Percentage",align:"right",slot:!0}]),h=_(()=>f.params.hash instanceof Array?f.params.hash[0]:f.params.hash),P=_(()=>f.query),u=_(()=>r.detail),H=_(()=>r.counter),w=_(()=>r.transfer),T=_(()=>r.holder);aa(()=>{K(),J(),v.replace({path:`/tokens/${h.value}`,query:{tab:"transfer-tab"}}),$(P.value)});async function J(){try{await r.fetchToken(h.value)}catch{throw new Error("")}}async function K(){try{await r.fetchCounters(h.value)}catch{throw new Error("")}}async function $(t){try{C.value=!0,r.transfer.items=[],await r.fetchTransfers(h.value,t)}catch{throw new Error("")}finally{C.value=!1}}async function O(t){try{N.value=!0,r.holder.items=[],await r.fetchHolders(h.value,t)}catch{throw new Error("")}finally{N.value=!1}}function Q(t){v.push({path:`/tokens/${h.value}`,query:{tab:t}})}function S(t){const o=t.target.id;Q(o)}function U(t){const o=f.fullPath.includes("transfer-tab")?"transfer-tab":"holders-tab";if(t==="prev"){v.go(-1),o==="transfer-tab"&&x.page--,o==="holders-tab"&&k.page--;return}let c;o==="transfer-tab"&&(c={tab:o,block_number:w.value.nextPageParams.blockNumber,index:w.value.nextPageParams.index}),o==="holders-tab"&&(c={tab:o,items_count:T.value.nextPageParams.itemsCount,value:T.value.nextPageParams.value}),v.push({path:f.fullPath,query:c}),o==="transfer-tab"&&x.page++,o==="holders-tab"&&k.page++}function V(t,o){if(!t)return"0";const c=Number(t)/Math.pow(10,Number(o));return g.format(c)}return ea(P,t=>{t.tab==="transfer-tab"&&$(t),t.tab==="holders-tab"&&O(t)}),(t,o)=>{var j,L,B,D,E,F,R,q,A;const c=ta("RouterLink");return ra(),sa(oa,null,[e("section",_a,[e("div",ba,[i(ca)])]),e("section",null,[e("div",pa,[e("div",va,[e("div",ga,[e("div",ma,[ya,e("div",xa,[e("div",ka,s((j=u.value)==null?void 0:j.name)+" ("+s((L=u.value)==null?void 0:L.symbol)+") ",1),wa]),e("div",Ta,s((B=u.value)==null?void 0:B.address),1),e("div",Ca,[Na,e("div",Pa,s(d(g).format(Number((D=u.value)==null?void 0:D.totalSupply)))+" "+s((E=u.value)==null?void 0:E.symbol),1)])])]),e("div",Ha,[e("div",$a,[Sa,e("ul",Va,[e("li",ja,[La,e("div",Ba,s(d(g).format(Number((F=H.value)==null?void 0:F.transfersCount)))+" Transfers ",1)]),e("li",Da,[Ea,e("div",Fa,s(d(g).format(Number((R=H.value)==null?void 0:R.tokenHoldersCount)))+" Holders ",1)]),e("li",Ra,[qa,e("div",Aa,s((q=u.value)==null?void 0:q.decimals)+" Decimals ",1)])])])])])])]),e("section",null,[e("div",za,[e("div",Ia,[e("div",Ma,[e("ul",{class:"nav nav-pills mb-3",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"transfer-tab","data-toggle":"pill","data-target":"#transfer",type:"button",role:"tab","aria-controls":"transfer","aria-selected":"true",onClick:S}," Token Transfers")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"holders-tab","data-toggle":"pill","data-target":"#holders",type:"button",role:"tab","aria-controls":"holders","aria-selected":"false",onClick:S},"Holders")])]),e("div",Ga,[e("div",Ja,[e("div",Ka,[i(I,{columns:M.value,loading:d(r).isLoading,items:((A=w.value)==null?void 0:A.items)||[],pagination:x,onChangePagination:U},{method:n(({item:a})=>[e("p",Oa,s(a==null?void 0:a.method),1)]),hash:n(({item:a})=>[i(c,{to:`/transactions/${a==null?void 0:a.txHash}`,class:"bg-linear text-clip"},{default:n(()=>[p(s(d(y).truncate(a==null?void 0:a.txHash)),1)]),_:2},1032,["to"])]),timestamp:n(({item:a})=>[i(ia,{date:a==null?void 0:a.timestamp},null,8,["date"])]),from:n(({item:a})=>[i(c,{to:`/accounts/${a==null?void 0:a.from.hash}`,class:"bg-linear text-clip"},{default:n(()=>{var l;return[p(s(d(y).truncate((l=a==null?void 0:a.from)==null?void 0:l.hash)),1)]}),_:2},1032,["to"])]),arrow:n(()=>[Qa]),to:n(({item:a})=>[i(c,{to:`/accounts/${a==null?void 0:a.to.hash}`,class:"bg-linear text-clip"},{default:n(()=>{var l;return[p(s(d(y).truncate((l=a==null?void 0:a.to)==null?void 0:l.hash)),1)]}),_:2},1032,["to"])]),value:n(({item:a})=>[e("span",null,s(V(a==null?void 0:a.total.value,a==null?void 0:a.total.decimals)),1)]),_:1},8,["columns","loading","items","pagination"])])]),e("div",Ua,[e("div",Wa,[i(I,{columns:G.value,items:T.value.items||[],pagination:k,loading:d(r).isLoading},{address:n(({item:a})=>{var l;return[i(c,{to:`/accounts/${(l=a==null?void 0:a.address)==null?void 0:l.hash}`,class:"bg-linear text-clip"},{default:n(()=>{var b;return[p(s((b=a==null?void 0:a.address)==null?void 0:b.hash),1)]}),_:2},1032,["to"])]}),value:n(({item:a})=>{var l;return[p(s(V(a==null?void 0:a.value,(l=a==null?void 0:a.token)==null?void 0:l.decimals))+" "+s(u.value.symbol),1)]}),percentage:n(({item:a})=>{var l,b;return[e("div",Xa,[e("div",Ya,s((Number(a==null?void 0:a.value)*100/Number((l=a==null?void 0:a.token)==null?void 0:l.totalSupply)).toFixed(2))+" % ",1),e("div",Za,[e("div",{style:da({background:"linear-gradient(95.11deg, #a4eff1 4.13%, #78e6ea 27.05%, #41c8d7 56.98%, #33bbcf 91.13%)",width:`${(Number(a==null?void 0:a.value)*100/Number((b=a==null?void 0:a.token)==null?void 0:b.totalSupply)).toFixed(2)}%`})},null,4)])])]}),_:1},8,["columns","items","pagination","loading"])])])])])])])])],64)}}});export{te as default};

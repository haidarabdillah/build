import{d as v,H as N,B as w,z as C,C as S,r as g,g as T,h as V,D as q,i as H,c as A,a as s,j as c,w as o,k as f,s as B,F as R,o as L,A as $,l as h,t as i,v as D,x as E}from"./index-41944f3a.js";const F={class:"position-relative pb-5",id:"hero"},M={class:"container"},j={class:"container mt-4"},z={class:"row"},G={class:"col-12"},I={class:"bg-primary-2 overflow-auto"},O=v({__name:"TokenView",setup(J){const t=N(),d=E(),k=D(),p=w(),n=C(),r=S({page:1,limit:50}),m=g(!1),y=g([{key:"#",label:"#",align:"left"},{key:"name",label:"Token Name",align:"left",slot:!0},{key:"address",label:"Address",align:"left",slot:!0},{key:"totalSupply",label:"Total Supply",align:"left",slot:!0},{key:"holders",label:"Holder Count",align:"left",customValue:e=>e?d.format(Number(e))+" Holders":"0"}]),b=T(()=>t.data.items||[]);V(()=>{n.query.items_count&&(r.page=Number(n.query.items_count)/50+1),_(n.query)});async function _(e){try{m.value=!0,t.data.items=[],await t.fetchTokens(e)}catch{throw new Error("")}finally{m.value=!1}}function x(e){if(e==="prev"){p.go(-1),r.page--;return}p.push({path:"/tokens",query:{contract_address_hash:t.data.nextPageParams.contractAddressHash,fiat_value:t.data.nextPageParams.fiatValue,holder_count:t.data.nextPageParams.holderCount,is_name_null:t.data.nextPageParams.isNameNull.toString(),items_count:t.data.nextPageParams.itemsCount,market_cap:t.data.nextPageParams.marketCap,name:t.data.nextPageParams.name}}),r.page++}function P(e,u){if(!e)return"0";const l=Number(e)/Math.pow(10,Number(u));return d.format(l)}return q(()=>n.query,e=>{_(e)}),(e,u)=>{const l=H("RouterLink");return L(),A(R,null,[s("section",F,[s("div",M,[c($)])]),s("section",null,[s("div",j,[s("div",z,[s("div",G,[s("div",I,[c(B,{columns:y.value,items:b.value,loading:f(t).isLoading,pagination:r,onChangePagination:x},{name:o(({item:a})=>[c(l,{to:`/tokens/${a.address}`,class:"bg-linear text-clip"},{default:o(()=>[h(i(a.name),1)]),_:2},1032,["to"])]),address:o(({item:a})=>[c(l,{to:`/accounts/${a==null?void 0:a.address}`,class:"bg-linear text-clip"},{default:o(()=>[h(i(f(k).truncate(a.address)),1)]),_:2},1032,["to"])]),totalSupply:o(({item:a})=>[s("span",null,i(P((a==null?void 0:a.totalSupply)||"0",a==null?void 0:a.decimals)),1)]),_:1},8,["columns","items","loading","pagination"])])])])])])],64)}}});export{O as default};

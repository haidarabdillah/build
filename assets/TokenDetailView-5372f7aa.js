import{d as X,z as Y,B as Z,H as aa,C as I,r as g,g as _,h as ea,D as sa,i as ta,c as oa,a as e,j as d,t,k as u,w as n,s as M,F as la,I as na,J as ra,o as ca,A as ia,l as v,p as da,K as ua,G as fa,x as ha,v as _a}from"./index-75f9919e.js";const ba={class:"position-relative pb-5",id:"hero"},va={class:"container"},pa={class:"container"},ga={class:"row"},ma={class:"col-12 col-lg-6"},ya={class:"d-flex flex-column bg-primary-2 p-4"},xa=e("div",{class:"font-medium text-2xl mb-4"}," Token Name ",-1),ka={class:"d-flex align-items-center justify-content-between"},wa={class:"text-base font-medium"},Ta=e("div",{class:"d-inline-flex"},[e("img",{class:"ml-4 mr-2",src:na,alt:"Copy"}),e("img",{src:ra,alt:"Barcode"})],-1),Ca={class:"font-medium mt-2 mb-4"},Pa={class:"d-flex flex-column w-100 bg-gradient p-4"},Na=e("div",{class:"text-base font-medium"}," Token Supply ",-1),Ha={class:"text-2xl font-medium mt-12"},$a={class:"col-12 col-lg-6"},Sa={class:"d-flex flex-column bg-primary-2 p-4"},Va=e("div",{class:"font-medium text-2xl mb-4"}," Token Information ",-1),ja={class:"d-flex flex-column p-0"},La={class:"d-flex justify-content-between align-items-center font-medium mt-12"},Ba=e("div",{class:""}," Total Transfer Count : ",-1),Da={class:"ml-2"},Ea={class:"d-flex justify-content-between align-items-center font-medium mt-12"},Fa=e("div",{class:""}," Holder Count : ",-1),Ra={class:"ml-2"},qa={class:"d-flex justify-content-between align-items-center font-medium mt-12"},Aa=e("div",{class:""}," Decimal : ",-1),za={class:"ml-2"},Ia={class:"container mt-4"},Ma={class:"row"},Ga={class:"col-12"},Ja={class:"tab-content",id:"pills-tabContent"},Ka={class:"tab-pane fade show active",id:"transfer",role:"tabpanel","aria-labelledby":"transfer-tab"},Oa={class:"bg-primary-2 overflow-auto"},Qa={class:"capitalize",style:{width:"250px",margin:"0","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},Ua=e("img",{src:fa,alt:""},null,-1),Wa={class:"tab-pane fade",id:"holders",role:"tabpanel","aria-labelledby":"holders-tab"},Xa={class:"bg-primary-2 overflow-auto"},Ya={class:"d-flex flex-column text-right"},Za={class:""},ae={class:"progress justify-content-end"},te=X({__name:"TokenDetailView",setup(ee){const f=Y(),p=Z(),r=aa(),m=ha(),y=_a(),x=I({page:1,limit:50}),k=I({page:1,limit:50}),P=g(!1),N=g(!1),G=g([{key:"method",label:"Transaction",align:"left",slot:!0},{key:"hash",label:"Txn Hash",align:"left",slot:!0},{key:"timestamp",label:"Time",align:"left",slot:!0},{key:"from",label:"From",align:"left",slot:!0},{key:"arrow",label:"",align:"center",slot:!0},{key:"to",label:"To",align:"left",slot:!0},{key:"value",label:"Value",align:"left",slot:!0}]),J=g([{key:"address",label:"Address",align:"left",slot:!0},{key:"value",label:"Value Quantity",align:"left",slot:!0},{key:"percentage",label:"Percentage",align:"right",slot:!0}]),h=_(()=>f.params.hash instanceof Array?f.params.hash[0]:f.params.hash),H=_(()=>f.query),i=_(()=>r.detail),$=_(()=>r.counter),w=_(()=>r.transfer),T=_(()=>r.holder);ea(()=>{O(),K(),p.replace({path:`/tokens/${h.value}`,query:{tab:"transfer-tab"}}),S(H.value)});async function K(){try{await r.fetchToken(h.value)}catch{throw new Error("")}}async function O(){try{await r.fetchCounters(h.value)}catch{throw new Error("")}}async function S(s){try{P.value=!0,r.transfer.items=[],await r.fetchTransfers(h.value,s)}catch{throw new Error("")}finally{P.value=!1}}async function Q(s){try{N.value=!0,r.holder.items=[],await r.fetchHolders(h.value,s)}catch{throw new Error("")}finally{N.value=!1}}function U(s){p.push({path:`/tokens/${h.value}`,query:{tab:s}})}function V(s){const o=s.target.id;U(o)}function W(s){const o=f.fullPath.includes("transfer-tab")?"transfer-tab":"holders-tab";if(s==="prev"){p.go(-1),o==="transfer-tab"&&x.page--,o==="holders-tab"&&k.page--;return}let c;o==="transfer-tab"&&(c={tab:o,block_number:w.value.nextPageParams.blockNumber,index:w.value.nextPageParams.index}),o==="holders-tab"&&(c={tab:o,items_count:T.value.nextPageParams.itemsCount,value:T.value.nextPageParams.value}),p.push({path:f.fullPath,query:c}),o==="transfer-tab"&&x.page++,o==="holders-tab"&&k.page++}function C(s,o){if(!s)return"0";const c=Number(s)/Math.pow(10,Number(o));return m.format(c)}return sa(H,s=>{s.tab==="transfer-tab"&&S(s),s.tab==="holders-tab"&&Q(s)}),(s,o)=>{var j,L,B,D,E,F,R,q,A,z;const c=ta("RouterLink");return ca(),oa(la,null,[e("section",ba,[e("div",va,[d(ia)])]),e("section",null,[e("div",pa,[e("div",ga,[e("div",ma,[e("div",ya,[xa,e("div",ka,[e("div",wa,t((j=i.value)==null?void 0:j.name)+" ("+t((L=i.value)==null?void 0:L.symbol)+") ",1),Ta]),e("div",Ca,t((B=i.value)==null?void 0:B.address),1),e("div",Pa,[Na,e("div",Ha,t(C((D=i.value)==null?void 0:D.totalSupply,(E=i.value)==null?void 0:E.decimals))+" "+t((F=i.value)==null?void 0:F.symbol),1)])])]),e("div",$a,[e("div",Sa,[Va,e("ul",ja,[e("li",La,[Ba,e("div",Da,t(u(m).format(Number((R=$.value)==null?void 0:R.transfersCount)))+" Transfers ",1)]),e("li",Ea,[Fa,e("div",Ra,t(u(m).format(Number((q=$.value)==null?void 0:q.tokenHoldersCount)))+" Holders ",1)]),e("li",qa,[Aa,e("div",za,t((A=i.value)==null?void 0:A.decimals)+" Decimals ",1)])])])])])])]),e("section",null,[e("div",Ia,[e("div",Ma,[e("div",Ga,[e("ul",{class:"nav nav-pills mb-3",id:"pills-tab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"transfer-tab","data-toggle":"pill","data-target":"#transfer",type:"button",role:"tab","aria-controls":"transfer","aria-selected":"true",onClick:V}," Token Transfers")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"holders-tab","data-toggle":"pill","data-target":"#holders",type:"button",role:"tab","aria-controls":"holders","aria-selected":"false",onClick:V},"Holders")])]),e("div",Ja,[e("div",Ka,[e("div",Oa,[d(M,{columns:G.value,loading:u(r).isLoading,items:((z=w.value)==null?void 0:z.items)||[],pagination:x,onChangePagination:W},{method:n(({item:a})=>[e("p",Qa,t(a==null?void 0:a.method),1)]),hash:n(({item:a})=>[d(c,{to:`/transactions/${a==null?void 0:a.txHash}`,class:"bg-linear text-clip"},{default:n(()=>[v(t(u(y).truncate(a==null?void 0:a.txHash)),1)]),_:2},1032,["to"])]),timestamp:n(({item:a})=>[d(da,{date:a==null?void 0:a.timestamp},null,8,["date"])]),from:n(({item:a})=>[d(c,{to:`/accounts/${a==null?void 0:a.from.hash}`,class:"bg-linear text-clip"},{default:n(()=>{var l;return[v(t(u(y).truncate((l=a==null?void 0:a.from)==null?void 0:l.hash)),1)]}),_:2},1032,["to"])]),arrow:n(()=>[Ua]),to:n(({item:a})=>[d(c,{to:`/accounts/${a==null?void 0:a.to.hash}`,class:"bg-linear text-clip"},{default:n(()=>{var l;return[v(t(u(y).truncate((l=a==null?void 0:a.to)==null?void 0:l.hash)),1)]}),_:2},1032,["to"])]),value:n(({item:a})=>[e("span",null,t(C(a==null?void 0:a.total.value,a==null?void 0:a.total.decimals)),1)]),_:1},8,["columns","loading","items","pagination"])])]),e("div",Wa,[e("div",Xa,[d(M,{columns:J.value,items:T.value.items||[],pagination:k,loading:u(r).isLoading},{address:n(({item:a})=>{var l;return[d(c,{to:`/accounts/${(l=a==null?void 0:a.address)==null?void 0:l.hash}`,class:"bg-linear text-clip"},{default:n(()=>{var b;return[v(t((b=a==null?void 0:a.address)==null?void 0:b.hash),1)]}),_:2},1032,["to"])]}),value:n(({item:a})=>{var l;return[v(t(C(a==null?void 0:a.value,(l=a==null?void 0:a.token)==null?void 0:l.decimals))+" "+t(i.value.symbol),1)]}),percentage:n(({item:a})=>{var l,b;return[e("div",Ya,[e("div",Za,t((Number(a==null?void 0:a.value)*100/Number((l=a==null?void 0:a.token)==null?void 0:l.totalSupply)).toFixed(2))+" % ",1),e("div",ae,[e("div",{style:ua({background:"linear-gradient(95.11deg, #a4eff1 4.13%, #78e6ea 27.05%, #41c8d7 56.98%, #33bbcf 91.13%)",width:`${(Number(a==null?void 0:a.value)*100/Number((b=a==null?void 0:a.token)==null?void 0:b.totalSupply)).toFixed(2)}%`})},null,4)])])]}),_:1},8,["columns","items","pagination","loading"])])])])])])])])],64)}}});export{te as default};

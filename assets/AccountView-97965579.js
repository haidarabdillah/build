import{d as k,L as C,z as A,B,C as N,r as f,g as m,h as P,D as V,i as q,c as D,a as e,j as i,w as u,k as F,s as L,F as R,o as S,A as z,l as E,t as d,K as M,x as T}from"./index-fbf5210c.js";const $={class:"position-relative pb-5",id:"hero"},j={class:"container"},H={class:"container mt-4"},K={class:"row"},G={class:"col-12"},I={class:"bg-primary-2 overflow-auto"},J={style:{opacity:"0.7"}},U=k({__name:"AccountView",setup(O){const n=C(),t=A(),g=B(),y=T(),o=N({page:1,limit:50}),v=f([{key:"#",label:"#",align:"left"},{key:"address",label:"Address",align:"left",slot:!0},{key:"balance",label:"Balance",align:"right",slot:!0},{key:"txCount",label:"Txn Count",align:"right"}]),h=f(!1),b=m(()=>n.data.items||[]),c=m(()=>n.data.nextPageParams);P(()=>{t.query.items_count&&(o.page=Number(t.query.items_count)/50+1),_(t.query)});async function _(s){try{h.value=!0,n.data.items=[],await n.fetchAddresses(s)}catch{throw new Error("")}finally{h.value=!1}}function x(s){if(s==="prev"){g.go(-1),o.page--;return}g.push({path:t.fullPath,query:{fetched_coin_balance:c.value.fetchedCoinBalance,hash:c.value.hash,items_count:c.value.itemsCount}}),o.page++}function p(s,r){if(!s)return"0";const l=Number(s)/Math.pow(10,Number(r));return y.format(l,{minimumFractionDigits:8,maximumFractionDigits:8}).split(".")}return V(()=>t.query,s=>{_(s)}),(s,r)=>{const l=q("RouterLink");return S(),D(R,null,[e("section",$,[e("div",j,[i(z)])]),e("section",null,[e("div",H,[e("div",K,[e("div",G,[e("div",I,[i(L,{columns:v.value,items:b.value,loading:F(n).isLoading,pagination:o,onChangePagination:x},{address:u(({item:a})=>[i(l,{to:`/accounts/${a==null?void 0:a.hash}`,class:"bg-linear text-clip"},{default:u(()=>[E(d((a==null?void 0:a.name)||(a==null?void 0:a.hash)),1)]),_:2},1032,["to"])]),balance:u(({item:a,column:w})=>[e("p",{style:M({textAlign:w.align})},[e("span",null,d(p((a==null?void 0:a.coinBalance)||"0",18)[0])+".",1),e("span",J,d(p((a==null?void 0:a.coinBalance)||"0",18)[1]),1)],4)]),_:1},8,["columns","items","loading","pagination"])])])])])])],64)}}});export{U as default};
